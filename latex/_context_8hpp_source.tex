\hypertarget{_context_8hpp_source}{}\doxysection{Context.\+hpp}
\label{_context_8hpp_source}\index{include/glwpp/ctx/Context.hpp@{include/glwpp/ctx/Context.hpp}}
\mbox{\hyperlink{_context_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 }
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <atomic>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <functional>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_window_8hpp}{glwpp/glfw/Window.hpp}}"{}}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_event_8hpp}{glwpp/utils/event/Event.hpp}}"{}}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceglwpp}{glwpp}} \{}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{keyword}{class }\mbox{\hyperlink{classglwpp_1_1_context}{Context}} \{}
\DoxyCodeLine{13     \mbox{\hyperlink{namespaceglwpp_a1a3c08f1a5736e103e3bccd5522b64af}{sptr<thread\_pool>}} \_gl\_thread;}
\DoxyCodeLine{14 \textcolor{keyword}{public}:}
\DoxyCodeLine{15     \textcolor{keyword}{struct }\mbox{\hyperlink{structglwpp_1_1_context_1_1_parameters}{Parameters}} \{}
\DoxyCodeLine{16         \textcolor{keywordtype}{int} \mbox{\hyperlink{structglwpp_1_1_context_1_1_parameters_a5d90999f9477595ad06ece1b0bc6fdee}{gl\_major\_ver}};}
\DoxyCodeLine{17         \textcolor{keywordtype}{int} \mbox{\hyperlink{structglwpp_1_1_context_1_1_parameters_ab90ac24f0f54350016a7707f24769269}{gl\_minor\_ver}};}
\DoxyCodeLine{18 }
\DoxyCodeLine{19         \textcolor{keywordtype}{int} \mbox{\hyperlink{structglwpp_1_1_context_1_1_parameters_ae47dda2d063156fc2a327872deafab84}{width}};}
\DoxyCodeLine{20         \textcolor{keywordtype}{int} \mbox{\hyperlink{structglwpp_1_1_context_1_1_parameters_a52b71ec0fa8b87cab17204146aa83ea7}{height}};}
\DoxyCodeLine{21         \textcolor{keywordtype}{int} \mbox{\hyperlink{structglwpp_1_1_context_1_1_parameters_aa9c56e7158079e0e74ee7c713fb43b1f}{fps}};}
\DoxyCodeLine{22         std::string \mbox{\hyperlink{structglwpp_1_1_context_1_1_parameters_a972b7465bb4b954cb08891e87a7f9b0c}{title}};}
\DoxyCodeLine{23     \};}
\DoxyCodeLine{24 }
\DoxyCodeLine{25     \mbox{\hyperlink{classglwpp_1_1_context_ad6694bb55877a853bf5ecf59c144ec68}{Context}}(\textcolor{keyword}{const} \mbox{\hyperlink{structglwpp_1_1_context_1_1_parameters}{Parameters}} \&params);}
\DoxyCodeLine{26     \textcolor{keyword}{virtual} \mbox{\hyperlink{classglwpp_1_1_context_a3308c77decf3a98ef3d94b95457aced3}{\string~Context}}();}
\DoxyCodeLine{27 }
\DoxyCodeLine{28     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classglwpp_1_1_context_af9a08a248bce932720e4310be4724024}{start}}();}
\DoxyCodeLine{29     \textcolor{keywordtype}{void} \mbox{\hyperlink{classglwpp_1_1_context_a58112830607f71f3b6eefb2c1bad4a43}{wait}}();}
\DoxyCodeLine{30     std::thread::id \mbox{\hyperlink{classglwpp_1_1_context_afcce63ddb65ae3c687823319b1628d2a}{getThreadId}}() \textcolor{keyword}{const};}
\DoxyCodeLine{31 }
\DoxyCodeLine{32     \textcolor{comment}{// gl thread}}
\DoxyCodeLine{33     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*, std::chrono::microseconds>}} \mbox{\hyperlink{classglwpp_1_1_context_ac0dafce804f70151e1ad696857a434c2}{onRun}};}
\DoxyCodeLine{34     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*>}} \mbox{\hyperlink{classglwpp_1_1_context_a263f95cba606c462df7a1b73d5598e0d}{onDetsroy}};}
\DoxyCodeLine{35 }
\DoxyCodeLine{36     \textcolor{comment}{// Non-\/gl thread}}
\DoxyCodeLine{37     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*>}} \mbox{\hyperlink{classglwpp_1_1_context_ac275235073a1ed76d8e3b6cdd9e3778d}{onRunEnd}};}
\DoxyCodeLine{38     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*, int, int>}} \mbox{\hyperlink{classglwpp_1_1_context_a24d864871a5c2eada1a5ba542487348f}{onWinMove}};}
\DoxyCodeLine{39     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*, int, int>}} \mbox{\hyperlink{classglwpp_1_1_context_a3f60bf7c494778a6ddb93c1ca37cc293}{onWinResize}};}
\DoxyCodeLine{40     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*>}} \mbox{\hyperlink{classglwpp_1_1_context_a23c3ee16934a797317cc435a89508e5f}{onWinClose}};}
\DoxyCodeLine{41     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*>}} \mbox{\hyperlink{classglwpp_1_1_context_aab1fdf317bf2d40cb89909928bd7091a}{onWinRefresh}};}
\DoxyCodeLine{42     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*, bool>}} \mbox{\hyperlink{classglwpp_1_1_context_ade8243d3629f8c2b24df0ffc6de94a97}{onWinIconify}};}
\DoxyCodeLine{43     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*, bool>}} \mbox{\hyperlink{classglwpp_1_1_context_a1429333e546f0be79b76aed9af3b8c5d}{onWinMaximize}};}
\DoxyCodeLine{44     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*, float, float>}} \mbox{\hyperlink{classglwpp_1_1_context_ab703cff26d628489e6a88b5a068c744e}{onWinScale}};}
\DoxyCodeLine{45     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*, int, int>}} \mbox{\hyperlink{classglwpp_1_1_context_a1a9c614b4c100509305620b611bc1ed9}{onFramebufferResize}};}
\DoxyCodeLine{46 }
\DoxyCodeLine{47     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*, bool>}} \mbox{\hyperlink{classglwpp_1_1_context_a8f627b5e6e8e11d9d5dc92ff7388e037}{onCursorFocus}};}
\DoxyCodeLine{48     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*, bool>}} \mbox{\hyperlink{classglwpp_1_1_context_a9e3dd01b7902b5699a39439a2d1d1a8c}{onCursorEnter}};}
\DoxyCodeLine{49     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*, double, double>}} \mbox{\hyperlink{classglwpp_1_1_context_a218b9bbc29a37b9b6fd60f4b8398698d}{onCursorMove}};}
\DoxyCodeLine{50     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*, Button, Action, ModFlags>}} \mbox{\hyperlink{classglwpp_1_1_context_aea5aae4cf61493e39bc55bdbafe9cf17}{onCursorButton}};}
\DoxyCodeLine{51     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*, double, double>}} \mbox{\hyperlink{classglwpp_1_1_context_a66af129d69b26d27d6d8306174d4f8d4}{onCursorScroll}};}
\DoxyCodeLine{52 }
\DoxyCodeLine{53     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*, Key, int, Action, ModFlags>}} \mbox{\hyperlink{classglwpp_1_1_context_a9d506f60fcfd0b18203b38f9d8b7f36d}{onKey}};}
\DoxyCodeLine{54     \mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*, unsigned int, ModFlags>}} \mbox{\hyperlink{classglwpp_1_1_context_a8f656929cf412cfcaabc5887f4def007}{onChar}};}
\DoxyCodeLine{55 }
\DoxyCodeLine{56     }
\DoxyCodeLine{57 \textcolor{keyword}{private}:}
\DoxyCodeLine{58     \mbox{\hyperlink{structglwpp_1_1_context_1_1_parameters}{Parameters}} \_params;}
\DoxyCodeLine{59     \mbox{\hyperlink{namespaceglwpp_aaf55e3817b765da01408241a75df2acb}{uptr<glfw::Window>}} \_glfw\_window;}
\DoxyCodeLine{60     std::atomic<bool> \_valid;}
\DoxyCodeLine{61     std::thread::id \_thread\_id;}
\DoxyCodeLine{62     std::chrono::steady\_clock::time\_point \_last\_start;}
\DoxyCodeLine{63 }
\DoxyCodeLine{64     \textcolor{keywordtype}{void} \_initGlfwWindow();}
\DoxyCodeLine{65 }
\DoxyCodeLine{66     \textcolor{keyword}{template}<\textcolor{keyword}{auto} setter, \textcolor{keyword}{class }... Args>}
\DoxyCodeLine{67     \textcolor{keywordtype}{void} \_bindGlfwCallback(\mbox{\hyperlink{classglwpp_1_1_event}{Event<Context*, Args...>}} \&event)\{}
\DoxyCodeLine{68         std::function<void(\mbox{\hyperlink{classglwpp_1_1glfw_1_1_window}{glfw::Window}}*, Args...)> func = [\textcolor{keyword}{this}, \&event](\mbox{\hyperlink{classglwpp_1_1glfw_1_1_window}{glfw::Window}}*, Args... args)\{}
\DoxyCodeLine{69             \textcolor{keyword}{event}.emit(\textcolor{keyword}{this}, args...);}
\DoxyCodeLine{70         \};}
\DoxyCodeLine{71         (this-\/>\_glfw\_window.get()-\/>*setter)(func);}
\DoxyCodeLine{72     \};}
\DoxyCodeLine{73 \};}
\DoxyCodeLine{74 }
\DoxyCodeLine{75 }
\DoxyCodeLine{76 }
\DoxyCodeLine{77 \}}

\end{DoxyCode}
