\hypertarget{_func_wrapper_8hpp_source}{}\doxysection{Func\+Wrapper.\+hpp}
\label{_func_wrapper_8hpp_source}\index{include/glwpp/utils/FuncWrapper.hpp@{include/glwpp/utils/FuncWrapper.hpp}}
\mbox{\hyperlink{_func_wrapper_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 }
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include <tuple>}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <functional>}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <utility>}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceglwpp}{glwpp}} \{}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{keyword}{namespace }detailed \{}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{keyword}{template}<std::size\_t \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a8d9c307cb7f3c4a32822a51922d1ceaa}{N}}, std::size\_t... Seq>}
\DoxyCodeLine{12 \textcolor{keyword}{constexpr} std::index\_sequence<(\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a8d9c307cb7f3c4a32822a51922d1ceaa}{N}} + Seq)...> \mbox{\hyperlink{namespaceglwpp_1_1detailed_ab7356b4b76b81aa2d04fc5b83303fc87}{add}}(std::index\_sequence<Seq...>)\{}
\DoxyCodeLine{13     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{14 \}}
\DoxyCodeLine{15 }
\DoxyCodeLine{16 \textcolor{keyword}{template}<std::\textcolor{keywordtype}{size\_t} Min, std::\textcolor{keywordtype}{size\_t} Max>}
\DoxyCodeLine{17 \textcolor{keyword}{using }\mbox{\hyperlink{namespaceglwpp_1_1detailed_a37fa869b4e4c3a638e1c81410868d9c0}{make\_index\_range}} = \textcolor{keyword}{decltype}(add<Min>(std::make\_index\_sequence<Max-\/Min>()));}
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{keyword}{template} <\textcolor{keywordtype}{int} I>}
\DoxyCodeLine{20 \textcolor{keyword}{struct }\mbox{\hyperlink{structglwpp_1_1detailed_1_1ignore}{ignore}} \{}
\DoxyCodeLine{21     \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{22     \mbox{\hyperlink{structglwpp_1_1detailed_1_1ignore_a3e9540e1182ba2aaff17ca6f1e4f80e0}{ignore}}(T\&\&)\{\}}
\DoxyCodeLine{23 \};}
\DoxyCodeLine{24 }
\DoxyCodeLine{25 \textcolor{keyword}{template} <\textcolor{keywordtype}{int} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170add7536794b63bf90eccfd37f9b147d7f}{I}}, \textcolor{keyword}{class}... Ts>}
\DoxyCodeLine{26 \textcolor{keyword}{inline} \textcolor{keyword}{decltype}(\textcolor{keyword}{auto}) \mbox{\hyperlink{namespaceglwpp_1_1detailed_a1a8e2dff0881f9db85cf9e82a713662b}{getArg}}(Ts\&\&... ts) \{}
\DoxyCodeLine{27   \textcolor{keywordflow}{return} std::get<I>(std::forward\_as\_tuple(ts...));}
\DoxyCodeLine{28 \}}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{keyword}{template}<\textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, \textcolor{keywordtype}{size\_t} ... Use, \textcolor{keyword}{class }... ArgsW>}
\DoxyCodeLine{31 \textcolor{keyword}{static} \textcolor{keyword}{decltype}(\textcolor{keyword}{auto}) call(std::index\_sequence<Use...>, F\&\& func, ArgsW\&\& ... args)\{}
\DoxyCodeLine{32     \textcolor{keywordflow}{return} func(getArg<Use>(std::forward<ArgsW>(args)...)...);}
\DoxyCodeLine{33 \};}
\DoxyCodeLine{34 }
\DoxyCodeLine{35 \textcolor{keyword}{template}<\textcolor{keyword}{auto} F, \textcolor{keyword}{class }... ArgsW, \textcolor{keywordtype}{size\_t} ... Use>}
\DoxyCodeLine{36 \textcolor{keyword}{static} \textcolor{keyword}{auto} call\_compiletime(std::index\_sequence<Use...>, ArgsW\&\& ... args)\{}
\DoxyCodeLine{37     \textcolor{keywordflow}{return} F(getArg<Use>(std::forward<ArgsW>(args)...)...);}
\DoxyCodeLine{38 \};}
\DoxyCodeLine{39 }
\DoxyCodeLine{40 \textcolor{keyword}{template} <\textcolor{keyword}{class} T, \textcolor{keyword}{class} Tuple>}
\DoxyCodeLine{41 \textcolor{keyword}{struct }\mbox{\hyperlink{structglwpp_1_1detailed_1_1tuple__type__index}{tuple\_type\_index}};}
\DoxyCodeLine{42 }
\DoxyCodeLine{43 \textcolor{keyword}{template} <\textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}, \textcolor{keyword}{class}... Types>}
\DoxyCodeLine{44 \textcolor{keyword}{struct }\mbox{\hyperlink{structglwpp_1_1detailed_1_1tuple__type__index}{tuple\_type\_index}}<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}, std::tuple<T, Types...>> \{}
\DoxyCodeLine{45     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} std::size\_t value = 0;}
\DoxyCodeLine{46 \};}
\DoxyCodeLine{47 }
\DoxyCodeLine{48 \textcolor{keyword}{template} <\textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a4c614360da93c0a041b22e537de151eb}{U}}, \textcolor{keyword}{class}... Types>}
\DoxyCodeLine{49 \textcolor{keyword}{struct }\mbox{\hyperlink{structglwpp_1_1detailed_1_1tuple__type__index}{tuple\_type\_index}}<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}, std::tuple<U, Types...>> \{}
\DoxyCodeLine{50     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} std::size\_t value = \mbox{\hyperlink{structglwpp_1_1detailed_1_1tuple__type__index}{tuple\_type\_index}}<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}, std::tuple<Types...>>::value + 1;}
\DoxyCodeLine{51 \};}
\DoxyCodeLine{52 }
\DoxyCodeLine{53 \textcolor{keyword}{template} <\textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}, \textcolor{keyword}{class}... Types>}
\DoxyCodeLine{54 \textcolor{keyword}{using }\mbox{\hyperlink{namespaceglwpp_1_1detailed_a1ea2194afdd18ed343bc28003ccdf05e}{tuple\_type\_index\_v}} = \mbox{\hyperlink{structglwpp_1_1detailed_1_1tuple__type__index}{tuple\_type\_index}}<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}, Types...>::value;}
\DoxyCodeLine{55 }
\DoxyCodeLine{56 \textcolor{keyword}{template} <\textcolor{keyword}{class }T1, \textcolor{keyword}{class }T2, \textcolor{keywordtype}{size\_t} ... Seq>}
\DoxyCodeLine{57 \textcolor{keyword}{constexpr} \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespaceglwpp_1_1detailed_ac6f739e34829fca3b758005de3c6aed3}{is\_same\_tuples}}(std::index\_sequence<Seq...>)\{}
\DoxyCodeLine{58     \textcolor{keywordflow}{return} (std::is\_same\_v<std::tuple\_element\_t<Seq, T1>, std::tuple\_element\_t<Seq, T1>> \&\& ...);}
\DoxyCodeLine{59 \};}
\DoxyCodeLine{60 }
\DoxyCodeLine{61 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T>}
\DoxyCodeLine{62 \textcolor{keyword}{struct }\mbox{\hyperlink{structglwpp_1_1detailed_1_1_signature}{Signature}};}
\DoxyCodeLine{63 }
\DoxyCodeLine{64 \textcolor{keyword}{template} <\textcolor{keyword}{typename} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}, \textcolor{keyword}{typename}... Args>}
\DoxyCodeLine{65 \textcolor{keyword}{struct }\mbox{\hyperlink{structglwpp_1_1detailed_1_1_signature}{Signature}}<std::function<R(Args...)>> \{}
\DoxyCodeLine{66     \textcolor{keyword}{using }\mbox{\hyperlink{structglwpp_1_1detailed_1_1_signature_3_01std_1_1function_3_01_r_07_args_8_8_8_08_4_01_4_a3fdbbf736b682f8c2e15f6eb867abe80}{type}} = \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}(Args...);}
\DoxyCodeLine{67 \};}
\DoxyCodeLine{68 }
\DoxyCodeLine{69 \textcolor{comment}{// =============}}
\DoxyCodeLine{70 \textcolor{comment}{//   constexpr}}
\DoxyCodeLine{71 \textcolor{comment}{// =============}}
\DoxyCodeLine{72 }
\DoxyCodeLine{73 \textcolor{keyword}{template}<\textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, \textcolor{keyword}{auto} Seq, \textcolor{keyword}{class }... ArgsOut>}
\DoxyCodeLine{74 \textcolor{keyword}{struct }\mbox{\hyperlink{structglwpp_1_1detailed_1_1expanded__function__compiletime}{expanded\_function\_compiletime}} \{}
\DoxyCodeLine{75     \textcolor{keyword}{static} \textcolor{keyword}{auto} \mbox{\hyperlink{structglwpp_1_1detailed_1_1expanded__function__compiletime_a20f66a40cacad9c9aa21336f3b39ecf1}{call}}(ArgsOut\&\& ... args)\{}
\DoxyCodeLine{76         \textcolor{keywordflow}{return} detailed::call\_compiletime<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, ArgsOut...>(Seq, std::forward<ArgsOut>(args)...);}
\DoxyCodeLine{77     \}}
\DoxyCodeLine{78 \};}
\DoxyCodeLine{79 }
\DoxyCodeLine{80 \textcolor{keyword}{template}<\textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, \textcolor{keyword}{class }... ArgsOut, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}, \textcolor{keyword}{class }... ArgsIn>}
\DoxyCodeLine{81 \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} func\_expand\_back\_compiletime(\textcolor{keyword}{const} Signature<std::function<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}(ArgsIn...)>>\& signature)\{}
\DoxyCodeLine{82     \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} OutS = \textcolor{keyword}{sizeof}...(ArgsOut);}
\DoxyCodeLine{83     \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} InS = \textcolor{keyword}{sizeof}...(ArgsIn);}
\DoxyCodeLine{84     \textcolor{keyword}{static\_assert}(OutS >= InS);}
\DoxyCodeLine{85 }
\DoxyCodeLine{86     \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (OutS == InS)\{}
\DoxyCodeLine{87         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}};}
\DoxyCodeLine{88     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{89         \textcolor{keyword}{using }Seq = std::make\_index\_sequence<InS>;}
\DoxyCodeLine{90         \textcolor{keyword}{using }Holder = expanded\_function\_compiletime<F, Seq\{\}, ArgsOut...>;}
\DoxyCodeLine{91         \textcolor{keywordflow}{return} \&Holder::call;}
\DoxyCodeLine{92     \}}
\DoxyCodeLine{93 \}}
\DoxyCodeLine{94 }
\DoxyCodeLine{95 \textcolor{keyword}{template}<\textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, \textcolor{keyword}{class }... ArgsOut, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}, \textcolor{keyword}{class }... ArgsIn>}
\DoxyCodeLine{96 \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} func\_expand\_front\_compiletime(\textcolor{keyword}{const} Signature<std::function<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}(ArgsIn...)>>\& signature)\{}
\DoxyCodeLine{97     \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} OutS = \textcolor{keyword}{sizeof}...(ArgsOut);}
\DoxyCodeLine{98     \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} InS = \textcolor{keyword}{sizeof}...(ArgsIn);}
\DoxyCodeLine{99     \textcolor{keyword}{static\_assert}(OutS >= InS);}
\DoxyCodeLine{100 }
\DoxyCodeLine{101     \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (OutS == InS)\{}
\DoxyCodeLine{102         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}};}
\DoxyCodeLine{103     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{104         \textcolor{keyword}{using }Seq = \mbox{\hyperlink{namespaceglwpp_1_1detailed_a37fa869b4e4c3a638e1c81410868d9c0}{make\_index\_range}}<OutS -\/ InS, OutS>;}
\DoxyCodeLine{105         \textcolor{keyword}{using }Holder = expanded\_function\_compiletime<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, Seq\{\}, ArgsOut...>;}
\DoxyCodeLine{106         \textcolor{keywordflow}{return} \&Holder::call;}
\DoxyCodeLine{107     \}}
\DoxyCodeLine{108 \}}
\DoxyCodeLine{109 }
\DoxyCodeLine{110 \textcolor{keyword}{template}<\textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, \textcolor{keyword}{auto} Seq, \textcolor{keyword}{class }... ArgsOut, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}, \textcolor{keyword}{class }... ArgsIn>}
\DoxyCodeLine{111 \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} func\_expand\_compiletime(\textcolor{keyword}{const} Signature<std::function<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}(ArgsIn...)>>\& signature)\{}
\DoxyCodeLine{112     \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} OutS = \textcolor{keyword}{sizeof}...(ArgsOut);}
\DoxyCodeLine{113     \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} InS = \textcolor{keyword}{sizeof}...(ArgsIn);}
\DoxyCodeLine{114     }
\DoxyCodeLine{115     \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (OutS == InS)\{}
\DoxyCodeLine{116         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}};}
\DoxyCodeLine{117     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{118         \textcolor{keyword}{using }Holder = expanded\_function\_compiletime<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, Seq, ArgsOut...>;}
\DoxyCodeLine{119         \textcolor{keywordflow}{return} \&Holder::call;}
\DoxyCodeLine{120     \}}
\DoxyCodeLine{121 \}}
\DoxyCodeLine{122 }
\DoxyCodeLine{123 \textcolor{keyword}{template}<\textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, \textcolor{keyword}{class }... ArgsOut, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}, \textcolor{keyword}{class }... ArgsIn>}
\DoxyCodeLine{124 \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} func\_wrap\_compiletime(\textcolor{keyword}{const} Signature<std::function<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}(ArgsIn...)>>\& signature)\{}
\DoxyCodeLine{125     \textcolor{keyword}{using }TupleArgsIn = std::tuple<std::decay\_t<ArgsIn>...>;}
\DoxyCodeLine{126     \textcolor{keyword}{using }TupleArgsOut = std::tuple<std::decay\_t<ArgsOut>...>;}
\DoxyCodeLine{127 }
\DoxyCodeLine{128     \textcolor{keyword}{constexpr} \textcolor{keywordtype}{size\_t} SizeIn = \textcolor{keyword}{sizeof}...(ArgsIn);}
\DoxyCodeLine{129     \textcolor{keyword}{constexpr} \textcolor{keywordtype}{size\_t} SizeOut = \textcolor{keyword}{sizeof}...(ArgsOut);}
\DoxyCodeLine{130 }
\DoxyCodeLine{131     \textcolor{keyword}{static\_assert}(SizeOut >= SizeIn);}
\DoxyCodeLine{132 }
\DoxyCodeLine{133     \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (SizeIn == SizeOut)\{}
\DoxyCodeLine{134         \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (SizeOut == 0)\{}
\DoxyCodeLine{135             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}};}
\DoxyCodeLine{136         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{137             \textcolor{keyword}{using }Seq = std::make\_index\_sequence<SizeIn>;}
\DoxyCodeLine{138             \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (detailed::is\_same\_tuples<TupleArgsIn, TupleArgsOut>(Seq\{\}))\{}
\DoxyCodeLine{139                 \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}};}
\DoxyCodeLine{140             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{141                 []<\textcolor{keywordtype}{bool} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a9d5ed678fe57bcca610140957afab571}{B}} = \textcolor{keyword}{false}>()\{\textcolor{keyword}{static\_assert}(\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a9d5ed678fe57bcca610140957afab571}{B}}, \textcolor{stringliteral}{"{}Function can not be wrapped."{}});\}();}
\DoxyCodeLine{142             \}}
\DoxyCodeLine{143         \}}
\DoxyCodeLine{144     \} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (SizeIn == 0) \{}
\DoxyCodeLine{145         \textcolor{keywordflow}{return} func\_expand\_back\_compiletime<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, ArgsOut...>(signature);}
\DoxyCodeLine{146     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{147         \textcolor{keyword}{using }FirstIn = std::tuple\_element\_t<0, TupleArgsIn>;}
\DoxyCodeLine{148         \textcolor{keyword}{using }FirstOut = std::tuple\_element\_t<0, TupleArgsOut>;}
\DoxyCodeLine{149 }
\DoxyCodeLine{150         \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (std::is\_same\_v<FirstIn, FirstOut>)\{}
\DoxyCodeLine{151             \textcolor{keywordflow}{return} func\_expand\_back\_compiletime<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, ArgsOut...>(signature);}
\DoxyCodeLine{152         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{153             \textcolor{keyword}{using }LastIn = std::tuple\_element\_t<SizeIn -\/ 1, TupleArgsIn>;}
\DoxyCodeLine{154             \textcolor{keyword}{using }LastOut = std::tuple\_element\_t<SizeOut -\/ 1, TupleArgsOut>;}
\DoxyCodeLine{155             }
\DoxyCodeLine{156             \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (std::is\_same\_v<LastIn, LastOut>)\{}
\DoxyCodeLine{157                 \textcolor{keywordflow}{return} func\_expand\_front\_compiletime<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, ArgsOut...>(signature);}
\DoxyCodeLine{158             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{159                 \textcolor{keyword}{constexpr} \textcolor{keywordtype}{size\_t} start = detailed::tuple\_type\_index<FirstIn, TupleArgsOut>::value;}
\DoxyCodeLine{160                 \textcolor{keyword}{using }Seq = detailed::make\_index\_range<start, start + SizeIn>;}
\DoxyCodeLine{161                 \textcolor{keywordflow}{return} func\_expand\_compiletime<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, Seq\{\}, ArgsOut...>(signature);}
\DoxyCodeLine{162             \}}
\DoxyCodeLine{163         \}}
\DoxyCodeLine{164     \}}
\DoxyCodeLine{165 \}}
\DoxyCodeLine{166 }
\DoxyCodeLine{167 \textcolor{comment}{// =============}}
\DoxyCodeLine{168 \textcolor{comment}{//   runtime}}
\DoxyCodeLine{169 \textcolor{comment}{// =============}}
\DoxyCodeLine{170 }
\DoxyCodeLine{171 \textcolor{keyword}{template}<\textcolor{keyword}{class }... ArgsOut, \textcolor{keywordtype}{size\_t} ... Use, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}>}
\DoxyCodeLine{172 \textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_1_1detailed_abbb6843636959bb89e33c573bb3156e7}{get\_expanded}}(\textcolor{keyword}{const} F\& func, \textcolor{keyword}{const} std::index\_sequence<Use...>\& seq)\{}
\DoxyCodeLine{173     \textcolor{keyword}{using }Seq = std::decay\_t<\textcolor{keyword}{decltype}(seq)>;}
\DoxyCodeLine{174     \textcolor{keywordflow}{return} [func](ArgsOut\&\& ... args)\{}
\DoxyCodeLine{175         \textcolor{keywordflow}{return} call(Seq\{\}, func, std::forward<ArgsOut>(args)...);}
\DoxyCodeLine{176     \};}
\DoxyCodeLine{177 \}}
\DoxyCodeLine{178 }
\DoxyCodeLine{179 \textcolor{keyword}{template}<\textcolor{keyword}{class }... ArgsOut, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}, \textcolor{keyword}{class }... ArgsIn>}
\DoxyCodeLine{180 \textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_1_1detailed_ac6723fcaea6b92dbdc34131cb99670b3}{func\_expand\_back}}(\textcolor{keyword}{const} F\& func,}
\DoxyCodeLine{181                       \textcolor{keyword}{const} \mbox{\hyperlink{structglwpp_1_1detailed_1_1_signature}{Signature}}<std::function<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}(ArgsIn...)>>\& signature)\{}
\DoxyCodeLine{182     \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} OutS = \textcolor{keyword}{sizeof}...(ArgsOut);}
\DoxyCodeLine{183     \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} InS = \textcolor{keyword}{sizeof}...(ArgsIn);}
\DoxyCodeLine{184     \textcolor{keyword}{static\_assert}(OutS >= InS);}
\DoxyCodeLine{185 }
\DoxyCodeLine{186     \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (OutS == InS)\{}
\DoxyCodeLine{187         \textcolor{keywordflow}{return} func;}
\DoxyCodeLine{188     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{189         \textcolor{keyword}{using }Seq = std::make\_index\_sequence<InS>;}
\DoxyCodeLine{190         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceglwpp_1_1detailed_abbb6843636959bb89e33c573bb3156e7}{get\_expanded}}<ArgsOut...>(func, Seq\{\});}
\DoxyCodeLine{191     \}}
\DoxyCodeLine{192 \}}
\DoxyCodeLine{193 }
\DoxyCodeLine{194 \textcolor{keyword}{template}<\textcolor{keyword}{class }... ArgsOut, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}, \textcolor{keyword}{class }... ArgsIn>}
\DoxyCodeLine{195 \textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_1_1detailed_a83cfc5f0ff53e628256d9d965930c857}{func\_expand\_front}}(\textcolor{keyword}{const} F\& func,}
\DoxyCodeLine{196                        \textcolor{keyword}{const} \mbox{\hyperlink{structglwpp_1_1detailed_1_1_signature}{Signature}}<std::function<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}(ArgsIn...)>>\& signature)\{}
\DoxyCodeLine{197     \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} OutS = \textcolor{keyword}{sizeof}...(ArgsOut);}
\DoxyCodeLine{198     \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} InS = \textcolor{keyword}{sizeof}...(ArgsIn);}
\DoxyCodeLine{199     \textcolor{keyword}{static\_assert}(OutS >= InS);}
\DoxyCodeLine{200 }
\DoxyCodeLine{201     \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (OutS == InS)\{}
\DoxyCodeLine{202         \textcolor{keywordflow}{return} func;}
\DoxyCodeLine{203     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{204         \textcolor{keyword}{using }Seq = \mbox{\hyperlink{namespaceglwpp_1_1detailed_a37fa869b4e4c3a638e1c81410868d9c0}{detailed::make\_index\_range}}<OutS -\/ InS, OutS>;}
\DoxyCodeLine{205         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceglwpp_1_1detailed_abbb6843636959bb89e33c573bb3156e7}{get\_expanded}}<ArgsOut...>(func, Seq\{\});}
\DoxyCodeLine{206     \}}
\DoxyCodeLine{207 \}}
\DoxyCodeLine{208 }
\DoxyCodeLine{209 \textcolor{keyword}{template}<\textcolor{keyword}{class }... ArgsOut, \textcolor{keywordtype}{size\_t} ... Use, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}, \textcolor{keyword}{class }... ArgsIn>}
\DoxyCodeLine{210 \textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_1_1detailed_aa3c648bd8e6d3b627ef7fb1db7ba8a8d}{func\_expand}}(\textcolor{keyword}{const} F\& func,}
\DoxyCodeLine{211                  \textcolor{keyword}{const} \mbox{\hyperlink{structglwpp_1_1detailed_1_1_signature}{Signature}}<std::function<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}(ArgsIn...)>>\& signature,}
\DoxyCodeLine{212                  \textcolor{keyword}{const} std::index\_sequence<Use...> \&seq)\{}
\DoxyCodeLine{213     \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} OutS = \textcolor{keyword}{sizeof}...(ArgsOut);}
\DoxyCodeLine{214     \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} InS = \textcolor{keyword}{sizeof}...(ArgsIn);}
\DoxyCodeLine{215     }
\DoxyCodeLine{216     \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (OutS == InS)\{}
\DoxyCodeLine{217         \textcolor{keywordflow}{return} func;}
\DoxyCodeLine{218     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{219         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceglwpp_1_1detailed_abbb6843636959bb89e33c573bb3156e7}{get\_expanded}}<ArgsOut...>(func, seq);}
\DoxyCodeLine{220     \}}
\DoxyCodeLine{221 \}}
\DoxyCodeLine{222 }
\DoxyCodeLine{223 \textcolor{keyword}{template}<\textcolor{keyword}{class }... ArgsOut, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}, \textcolor{keyword}{class }... ArgsIn>}
\DoxyCodeLine{224 \textcolor{keyword}{static} \textcolor{keyword}{auto} func\_wrap(\textcolor{keyword}{const} F\& func,}
\DoxyCodeLine{225                       \textcolor{keyword}{const} Signature<std::function<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ae1e1d3d40573127e9ee0480caf1283d6}{R}}(ArgsIn...)>>\& signature)\{}
\DoxyCodeLine{226     \textcolor{keyword}{using }TupleArgsIn = std::tuple<std::decay\_t<ArgsIn>...>;}
\DoxyCodeLine{227     \textcolor{keyword}{using }TupleArgsOut = std::tuple<std::decay\_t<ArgsOut>...>;}
\DoxyCodeLine{228 }
\DoxyCodeLine{229     \textcolor{keyword}{constexpr} \textcolor{keywordtype}{size\_t} SizeIn = \textcolor{keyword}{sizeof}...(ArgsIn);}
\DoxyCodeLine{230     \textcolor{keyword}{constexpr} \textcolor{keywordtype}{size\_t} SizeOut = \textcolor{keyword}{sizeof}...(ArgsOut);}
\DoxyCodeLine{231 }
\DoxyCodeLine{232     \textcolor{keyword}{static\_assert}(SizeOut >= SizeIn);}
\DoxyCodeLine{233 }
\DoxyCodeLine{234     \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (SizeIn == SizeOut)\{}
\DoxyCodeLine{235         \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (SizeOut == 0)\{}
\DoxyCodeLine{236             \textcolor{keywordflow}{return} func;}
\DoxyCodeLine{237         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{238             \textcolor{keyword}{using }Seq = std::make\_index\_sequence<std::min(SizeIn, SizeOut)>;}
\DoxyCodeLine{239             \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (detailed::is\_same\_tuples<TupleArgsIn, TupleArgsOut>(Seq\{\}))\{}
\DoxyCodeLine{240                 \textcolor{keywordflow}{return} func;}
\DoxyCodeLine{241             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{242                 []<\textcolor{keywordtype}{bool} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a9d5ed678fe57bcca610140957afab571}{B}} = \textcolor{keyword}{false}>()\{\textcolor{keyword}{static\_assert}(\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a9d5ed678fe57bcca610140957afab571}{B}}, \textcolor{stringliteral}{"{}Function can not be wrapped."{}});\}();}
\DoxyCodeLine{243             \}}
\DoxyCodeLine{244         \}}
\DoxyCodeLine{245     \} \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (SizeIn == 0) \{}
\DoxyCodeLine{246         \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceglwpp_1_1detailed_ac6723fcaea6b92dbdc34131cb99670b3}{func\_expand\_back}}<ArgsOut...>(func, signature);}
\DoxyCodeLine{247     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{248         \textcolor{keyword}{using }FirstIn = std::tuple\_element\_t<0, TupleArgsIn>;}
\DoxyCodeLine{249         \textcolor{keyword}{using }FirstOut = std::tuple\_element\_t<0, TupleArgsOut>;}
\DoxyCodeLine{250 }
\DoxyCodeLine{251         \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (std::is\_same\_v<FirstIn, FirstOut>)\{}
\DoxyCodeLine{252             \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceglwpp_1_1detailed_ac6723fcaea6b92dbdc34131cb99670b3}{func\_expand\_back}}<ArgsOut...>(func, signature);}
\DoxyCodeLine{253         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{254             \textcolor{keyword}{using }LastIn = std::tuple\_element\_t<SizeIn -\/ 1, TupleArgsIn>;}
\DoxyCodeLine{255             \textcolor{keyword}{using }LastOut = std::tuple\_element\_t<SizeOut -\/ 1, TupleArgsOut>;}
\DoxyCodeLine{256             }
\DoxyCodeLine{257             \textcolor{keywordflow}{if} \textcolor{keyword}{constexpr} (std::is\_same\_v<LastIn, LastOut>)\{}
\DoxyCodeLine{258                 \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceglwpp_1_1detailed_a83cfc5f0ff53e628256d9d965930c857}{func\_expand\_front}}<ArgsOut...>(func, signature);}
\DoxyCodeLine{259             \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{260                 \textcolor{keyword}{constexpr} \textcolor{keywordtype}{size\_t} start = detailed::tuple\_type\_index<FirstIn, TupleArgsOut>::value;}
\DoxyCodeLine{261                 \textcolor{keyword}{using }Seq = detailed::make\_index\_range<start, start + SizeIn>;}
\DoxyCodeLine{262                 \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceglwpp_1_1detailed_aa3c648bd8e6d3b627ef7fb1db7ba8a8d}{func\_expand}}<ArgsOut...>(func, signature, Seq\{\});}
\DoxyCodeLine{263             \}}
\DoxyCodeLine{264         \}}
\DoxyCodeLine{265     \}}
\DoxyCodeLine{266 \}}
\DoxyCodeLine{267 }
\DoxyCodeLine{268 \}}
\DoxyCodeLine{269 }
\DoxyCodeLine{270 \textcolor{keyword}{template}<\textcolor{keyword}{class }... ArgsOut, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}>}
\DoxyCodeLine{271 \textcolor{keyword}{static} \textcolor{keyword}{auto} expand\_func(\textcolor{keyword}{const} F\& func)\{}
\DoxyCodeLine{272     \textcolor{keyword}{using }Signature = detailed::Signature<\textcolor{keyword}{decltype}(std::function(func))>;}
\DoxyCodeLine{273     \textcolor{keywordflow}{return} detailed::func\_wrap<ArgsOut...>(func, Signature\{\});}
\DoxyCodeLine{274 \}}
\DoxyCodeLine{275 }
\DoxyCodeLine{276 \textcolor{keyword}{template}<\textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, \textcolor{keyword}{class }... ArgsOut>}
\DoxyCodeLine{277 \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} expand\_func()\{}
\DoxyCodeLine{278     \textcolor{keyword}{using }Signature = detailed::Signature<\textcolor{keyword}{decltype}(std::function(F))>;}
\DoxyCodeLine{279     \textcolor{keywordflow}{return} detailed::func\_wrap\_compiletime<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, ArgsOut...>(Signature\{\});}
\DoxyCodeLine{280 \}}
\DoxyCodeLine{281 }
\DoxyCodeLine{282 \textcolor{keyword}{template}<\textcolor{keyword}{class }... ArgsOut, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}>}
\DoxyCodeLine{283 \textcolor{keyword}{static} \textcolor{keyword}{auto} expand\_func\_back(\textcolor{keyword}{const} F\& func)\{}
\DoxyCodeLine{284     \textcolor{keyword}{using }Signature = detailed::Signature<\textcolor{keyword}{decltype}(std::function(func))>;}
\DoxyCodeLine{285     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceglwpp_1_1detailed_ac6723fcaea6b92dbdc34131cb99670b3}{detailed::func\_expand\_back}}<ArgsOut...>(func, Signature\{\});}
\DoxyCodeLine{286 \}}
\DoxyCodeLine{287 }
\DoxyCodeLine{288 \textcolor{keyword}{template}<\textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, \textcolor{keyword}{class }... ArgsOut>}
\DoxyCodeLine{289 \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} expand\_func\_back()\{}
\DoxyCodeLine{290     \textcolor{keyword}{using }Signature = detailed::Signature<\textcolor{keyword}{decltype}(std::function(F))>;}
\DoxyCodeLine{291     \textcolor{keywordflow}{return} detailed::func\_expand\_back\_compiletime<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, ArgsOut...>(Signature\{\});}
\DoxyCodeLine{292 \}}
\DoxyCodeLine{293 }
\DoxyCodeLine{294 \textcolor{keyword}{template}<\textcolor{keyword}{class }... ArgsOut, \textcolor{keyword}{class }\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}>}
\DoxyCodeLine{295 \textcolor{keyword}{static} \textcolor{keyword}{auto} expand\_func\_front(\textcolor{keyword}{const} F\& func)\{}
\DoxyCodeLine{296     \textcolor{keyword}{using }Signature = detailed::Signature<\textcolor{keyword}{decltype}(std::function(func))>;}
\DoxyCodeLine{297     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespaceglwpp_1_1detailed_a83cfc5f0ff53e628256d9d965930c857}{detailed::func\_expand\_front}}<ArgsOut...>(func, Signature\{\});}
\DoxyCodeLine{298 \}}
\DoxyCodeLine{299 }
\DoxyCodeLine{300 \textcolor{keyword}{template}<\textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, \textcolor{keyword}{class }... ArgsOut>}
\DoxyCodeLine{301 \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} expand\_func\_front()\{}
\DoxyCodeLine{302     \textcolor{keyword}{using }Signature = detailed::Signature<\textcolor{keyword}{decltype}(std::function(F))>;}
\DoxyCodeLine{303     \textcolor{keywordflow}{return} detailed::func\_expand\_front\_compiletime<\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}}, ArgsOut...>(Signature\{\});}
\DoxyCodeLine{304 \}}
\DoxyCodeLine{305 }
\DoxyCodeLine{306 }
\DoxyCodeLine{307 \}}

\end{DoxyCode}
