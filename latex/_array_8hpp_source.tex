\hypertarget{_array_8hpp_source}{}\doxysection{Array.\+hpp}
\label{_array_8hpp_source}\index{include/glwpp/gl/obj/Array.hpp@{include/glwpp/gl/obj/Array.hpp}}
\mbox{\hyperlink{_array_8hpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{2 }
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{_ctx_buffer_8hpp}{glwpp/gl/ctx\_only/CtxBuffer.hpp}}"{}}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include "{}\mbox{\hyperlink{obj_2_buffer_8hpp}{glwpp/gl/obj/Buffer.hpp}}"{}}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{keyword}{namespace }\mbox{\hyperlink{namespaceglwpp}{glwpp}} \{}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{10 \textcolor{keyword}{class }\mbox{\hyperlink{classglwpp_1_1_array}{Array}} : \textcolor{keyword}{public} \mbox{\hyperlink{classglwpp_1_1_buffer}{Buffer}} \{}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{keyword}{public}:}
\DoxyCodeLine{13     \mbox{\hyperlink{classglwpp_1_1_array_a8bf0e23b177d4038b4159ee22a5eea4f}{Array}}(\textcolor{keyword}{const} \mbox{\hyperlink{namespaceglwpp_adb9311c7c05abfa88168c90e3caaa977}{wptr<Context>}}\& wctx, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_val}{Val<size\_t>}}\& \mbox{\hyperlink{classglwpp_1_1_array_ab526e2e0824471077024c633606ed31a}{size}}, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}\& loc = \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}());}
\DoxyCodeLine{14     \mbox{\hyperlink{classglwpp_1_1_array_a03ae7dbde88644fcd056a32ad00edc99}{Array}}(\textcolor{keyword}{const} \mbox{\hyperlink{namespaceglwpp_adb9311c7c05abfa88168c90e3caaa977}{wptr<Context>}}\& wctx, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_val}{Val<size\_t>}}\& \mbox{\hyperlink{classglwpp_1_1_array_ab526e2e0824471077024c633606ed31a}{size}}, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_val}{Val<T>}}\& initial, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}\& loc = \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}());}
\DoxyCodeLine{15     \mbox{\hyperlink{classglwpp_1_1_array_a1e10f01fdd3ce5c7fff89b376ea8c759}{\string~Array}}()\{\};}
\DoxyCodeLine{16 }
\DoxyCodeLine{17     \textcolor{keywordtype}{bool} \mbox{\hyperlink{classglwpp_1_1_array_ab526e2e0824471077024c633606ed31a}{size}}(\mbox{\hyperlink{classglwpp_1_1_ptr}{Ptr<size\_t>}}\& dst) \textcolor{keyword}{const};}
\DoxyCodeLine{18     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classglwpp_1_1_array_abe8fb6d14d98de2cc16e3b3031f5b25e}{set}}(\textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_val}{Val<size\_t>}}\& i, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_val}{Val<T>}}\& value, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}\& loc = \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}());}
\DoxyCodeLine{19     \textcolor{keyword}{virtual} \textcolor{keywordtype}{bool} \mbox{\hyperlink{classglwpp_1_1_array_aab99b0d3e3ecb78cb313fdb5f134f92a}{get}}(\mbox{\hyperlink{classglwpp_1_1_ptr}{Ptr<T>}}\& dst, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_val}{Val<size\_t>}}\& i, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}\& loc = \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}()) \textcolor{keyword}{const};}
\DoxyCodeLine{20 }
\DoxyCodeLine{21 \textcolor{keyword}{protected}:}
\DoxyCodeLine{22     \mbox{\hyperlink{namespaceglwpp_a1a3c08f1a5736e103e3bccd5522b64af}{sptr<size\_t>}} \mbox{\hyperlink{classglwpp_1_1_array_ada48fa5e940d686d4ad48f9c784f1f4b}{\_size}};}
\DoxyCodeLine{23 }
\DoxyCodeLine{24     \textcolor{keyword}{static} \textcolor{keyword}{inline} \mbox{\hyperlink{namespaceglwpp_1_1gl_a4d2c9c79471804d92386aeef44b7dd1e}{gl::BitField}} \mbox{\hyperlink{classglwpp_1_1_array_a68f50d8226d26ebaa05010bc3cfb4f5f}{\_access}} = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceglwpp_1_1gl_a2c9ccad03084f22f7bb9c92522e6f845}{gl::Enum}}\textcolor{keyword}{>}(\mbox{\hyperlink{namespaceglwpp_1_1gl_ac7311765d325c7791a79553628c06570a7a1a5f3e79fdc91edf2f5ead9d66abb4}{gl::BufferStorageFlag::Read}})}
\DoxyCodeLine{25                                        | \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceglwpp_1_1gl_a2c9ccad03084f22f7bb9c92522e6f845}{gl::Enum}}\textcolor{keyword}{>}(\mbox{\hyperlink{namespaceglwpp_1_1gl_ac7311765d325c7791a79553628c06570a1129c0e4d43f2d121652a7302712cff6}{gl::BufferStorageFlag::Write}})}
\DoxyCodeLine{26                                        | \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceglwpp_1_1gl_a2c9ccad03084f22f7bb9c92522e6f845}{gl::Enum}}\textcolor{keyword}{>}(\mbox{\hyperlink{namespaceglwpp_1_1gl_ac7311765d325c7791a79553628c06570a5fe7b9358c9cb1b9eaa8d5aec000def4}{gl::BufferStorageFlag::Persistent}})}
\DoxyCodeLine{27                                        | \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceglwpp_1_1gl_a2c9ccad03084f22f7bb9c92522e6f845}{gl::Enum}}\textcolor{keyword}{>}(\mbox{\hyperlink{namespaceglwpp_1_1gl_ac7311765d325c7791a79553628c06570a65d2523d959087dc90e3070bf940f94c}{gl::BufferStorageFlag::Coherent}});}
\DoxyCodeLine{28 \};}
\DoxyCodeLine{29 }
\DoxyCodeLine{30 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{31 \mbox{\hyperlink{classglwpp_1_1_array_a8bf0e23b177d4038b4159ee22a5eea4f}{Array<T>::Array}}(\textcolor{keyword}{const} \mbox{\hyperlink{namespaceglwpp_adb9311c7c05abfa88168c90e3caaa977}{wptr<Context>}}\& wctx, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_val}{Val<size\_t>}}\& size, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}\& loc) :}
\DoxyCodeLine{32     \mbox{\hyperlink{classglwpp_1_1_buffer}{Buffer}}(wctx, loc)\{}
\DoxyCodeLine{33     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}} = [](\mbox{\hyperlink{classglwpp_1_1gl_1_1_ctx_buffer}{gl::CtxBuffer}}* buffer, \textcolor{keywordtype}{size\_t}* \mbox{\hyperlink{classglwpp_1_1_array_ada48fa5e940d686d4ad48f9c784f1f4b}{\_size}},}
\DoxyCodeLine{34                                  \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t}\& \mbox{\hyperlink{classglwpp_1_1_array_ab526e2e0824471077024c633606ed31a}{size}}, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}\& loc)\{}
\DoxyCodeLine{35         *\mbox{\hyperlink{classglwpp_1_1_array_ada48fa5e940d686d4ad48f9c784f1f4b}{\_size}} = \mbox{\hyperlink{classglwpp_1_1_array_ab526e2e0824471077024c633606ed31a}{size}};}
\DoxyCodeLine{36         buffer-\/>\mbox{\hyperlink{classglwpp_1_1gl_1_1_ctx_buffer_a991918fc505340256d3530c3427c1b42}{storage}}(*\mbox{\hyperlink{classglwpp_1_1_array_ada48fa5e940d686d4ad48f9c784f1f4b}{\_size}} * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}), \textcolor{keyword}{nullptr}, \mbox{\hyperlink{classglwpp_1_1_array_a68f50d8226d26ebaa05010bc3cfb4f5f}{\_access}}, loc);}
\DoxyCodeLine{37 }
\DoxyCodeLine{38         \textcolor{keyword}{auto} ptr = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}*\textcolor{keyword}{>}(buffer-\/>\mbox{\hyperlink{classglwpp_1_1gl_1_1_ctx_buffer_a204cc93064ae78b6ccdafdc0d2cbff8f}{map}}(\mbox{\hyperlink{namespaceglwpp_1_1gl_a7e15913748d1cca445c126c2ff9162bfa53dfe5089ae9e65887cb0215cb0098f5}{gl::BufferMapAccess::WriteOnly}}, loc));}
\DoxyCodeLine{39         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \mbox{\hyperlink{classglwpp_1_1_array_ab526e2e0824471077024c633606ed31a}{size}}; ++i)\{}
\DoxyCodeLine{40             ptr[i] = \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}\{\};}
\DoxyCodeLine{41         \}}
\DoxyCodeLine{42         buffer-\/>\mbox{\hyperlink{classglwpp_1_1gl_1_1_ctx_buffer_a9724bf4b302b8e224e7e5db1b0268e72}{unmap}}(loc);}
\DoxyCodeLine{43     \};}
\DoxyCodeLine{44     \mbox{\hyperlink{classglwpp_1_1_array_ada48fa5e940d686d4ad48f9c784f1f4b}{\_size}} = make\_sptr<size\_t>(0);}
\DoxyCodeLine{45     \_execute<F>(\mbox{\hyperlink{classglwpp_1_1_object_a9e71c8a4a70aec98bd427ef963e72a08}{getWCtx}}(), \mbox{\hyperlink{classglwpp_1_1_buffer_aa299d61a62621c80e46e953c8ddcf88d}{\_getPtr}}(), \mbox{\hyperlink{classglwpp_1_1_ptr}{Ptr}}(\mbox{\hyperlink{classglwpp_1_1_array_ada48fa5e940d686d4ad48f9c784f1f4b}{\_size}}), \mbox{\hyperlink{classglwpp_1_1_array_ab526e2e0824471077024c633606ed31a}{size}}, \mbox{\hyperlink{classglwpp_1_1_val}{Val}}(loc));}
\DoxyCodeLine{46 \};}
\DoxyCodeLine{47 }
\DoxyCodeLine{48 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{49 \mbox{\hyperlink{classglwpp_1_1_array_a8bf0e23b177d4038b4159ee22a5eea4f}{Array<T>::Array}}(\textcolor{keyword}{const} \mbox{\hyperlink{namespaceglwpp_adb9311c7c05abfa88168c90e3caaa977}{wptr<Context>}}\& wctx, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_val}{Val<size\_t>}}\& size, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_val}{Val<T>}}\& initial, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}\& loc) :}
\DoxyCodeLine{50     \mbox{\hyperlink{classglwpp_1_1_buffer}{Buffer}}(wctx, loc)\{}
\DoxyCodeLine{51     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}} = [](\mbox{\hyperlink{classglwpp_1_1gl_1_1_ctx_buffer}{gl::CtxBuffer}}* buffer, \textcolor{keywordtype}{size\_t}* \mbox{\hyperlink{classglwpp_1_1_array_ada48fa5e940d686d4ad48f9c784f1f4b}{\_size}},}
\DoxyCodeLine{52                                  \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t}\& \mbox{\hyperlink{classglwpp_1_1_array_ab526e2e0824471077024c633606ed31a}{size}}, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}\& loc)\{}
\DoxyCodeLine{53         *\mbox{\hyperlink{classglwpp_1_1_array_ada48fa5e940d686d4ad48f9c784f1f4b}{\_size}} = \mbox{\hyperlink{classglwpp_1_1_array_ab526e2e0824471077024c633606ed31a}{size}};}
\DoxyCodeLine{54         buffer-\/>\mbox{\hyperlink{classglwpp_1_1gl_1_1_ctx_buffer_a991918fc505340256d3530c3427c1b42}{storage}}(*\mbox{\hyperlink{classglwpp_1_1_array_ada48fa5e940d686d4ad48f9c784f1f4b}{\_size}} * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}), \textcolor{keyword}{nullptr}, \mbox{\hyperlink{classglwpp_1_1_array_a68f50d8226d26ebaa05010bc3cfb4f5f}{\_access}}, loc);}
\DoxyCodeLine{55 }
\DoxyCodeLine{56         \textcolor{keyword}{auto} ptr = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}*\textcolor{keyword}{>}(buffer-\/>\mbox{\hyperlink{classglwpp_1_1gl_1_1_ctx_buffer_a204cc93064ae78b6ccdafdc0d2cbff8f}{map}}(\mbox{\hyperlink{namespaceglwpp_1_1gl_a7e15913748d1cca445c126c2ff9162bfa53dfe5089ae9e65887cb0215cb0098f5}{gl::BufferMapAccess::WriteOnly}}, loc));}
\DoxyCodeLine{57         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} i = 0; i < \mbox{\hyperlink{classglwpp_1_1_array_ab526e2e0824471077024c633606ed31a}{size}}; ++i)\{}
\DoxyCodeLine{58             ptr[i] = initial;}
\DoxyCodeLine{59         \}}
\DoxyCodeLine{60         buffer-\/>\mbox{\hyperlink{classglwpp_1_1gl_1_1_ctx_buffer_a9724bf4b302b8e224e7e5db1b0268e72}{unmap}}(loc);}
\DoxyCodeLine{61     \};}
\DoxyCodeLine{62     \mbox{\hyperlink{classglwpp_1_1_array_ada48fa5e940d686d4ad48f9c784f1f4b}{\_size}} = make\_sptr<size\_t>(0);}
\DoxyCodeLine{63     \_execute<F>(\mbox{\hyperlink{classglwpp_1_1_object_a9e71c8a4a70aec98bd427ef963e72a08}{getWCtx}}(), \mbox{\hyperlink{classglwpp_1_1_buffer_aa299d61a62621c80e46e953c8ddcf88d}{\_getPtr}}(), \mbox{\hyperlink{classglwpp_1_1_ptr}{Ptr}}(\mbox{\hyperlink{classglwpp_1_1_array_ada48fa5e940d686d4ad48f9c784f1f4b}{\_size}}), \mbox{\hyperlink{classglwpp_1_1_array_ab526e2e0824471077024c633606ed31a}{size}}, initial, \mbox{\hyperlink{classglwpp_1_1_val}{Val}}(loc));}
\DoxyCodeLine{64 \};}
\DoxyCodeLine{65 }
\DoxyCodeLine{66 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{67 \textcolor{keywordtype}{bool} \mbox{\hyperlink{classglwpp_1_1_array_ab526e2e0824471077024c633606ed31a}{Array<T>::size}}(\mbox{\hyperlink{classglwpp_1_1_ptr}{Ptr<size\_t>}}\& dst)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{68     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}} = [](\textcolor{keywordtype}{size\_t}* \_size, \textcolor{keywordtype}{size\_t}* dst)\{}
\DoxyCodeLine{69         *dst = *\_size;}
\DoxyCodeLine{70     \};}
\DoxyCodeLine{71     \textcolor{keywordflow}{return} \_execute<F>(getWCtx(), \mbox{\hyperlink{classglwpp_1_1_ptr}{Ptr}}(\_size), dst);}
\DoxyCodeLine{72 \};}
\DoxyCodeLine{73 }
\DoxyCodeLine{74 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{75 \textcolor{keywordtype}{bool} \mbox{\hyperlink{classglwpp_1_1_array_abe8fb6d14d98de2cc16e3b3031f5b25e}{Array<T>::set}}(\textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_val}{Val<size\_t>}}\& i, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_val}{Val<T>}}\& value, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}\& loc)\{}
\DoxyCodeLine{76     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}} = [](\mbox{\hyperlink{classglwpp_1_1gl_1_1_ctx_buffer}{gl::CtxBuffer}}* buffer, \textcolor{keywordtype}{size\_t}* \_size,}
\DoxyCodeLine{77                                  \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t}\& i, \textcolor{keyword}{const} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}\& value, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}\& loc)\{}
\DoxyCodeLine{78         \textcolor{keywordflow}{if} (i >= *\_size)\{}
\DoxyCodeLine{79             \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}Out of bounds: "{}} + std::string(loc.file\_name()) + \textcolor{stringliteral}{"{}:"{}} + std::to\_string(loc.line()));}
\DoxyCodeLine{80         \}}
\DoxyCodeLine{81         \textcolor{keyword}{auto} p = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}*\textcolor{keyword}{>}(buffer-\/>\mbox{\hyperlink{classglwpp_1_1gl_1_1_ctx_buffer_a5926660c94dbce81388c8a52829a04b3}{mapRange}}(i * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}), \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}), \_access, loc));}
\DoxyCodeLine{82         *p = value;}
\DoxyCodeLine{83         buffer-\/>\mbox{\hyperlink{classglwpp_1_1gl_1_1_ctx_buffer_a9724bf4b302b8e224e7e5db1b0268e72}{unmap}}(loc);}
\DoxyCodeLine{84     \};}
\DoxyCodeLine{85     \textcolor{keywordflow}{return} \_execute<F>(getWCtx(), \_getPtr(), \mbox{\hyperlink{classglwpp_1_1_ptr}{Ptr}}(\_size), i, value, \mbox{\hyperlink{classglwpp_1_1_val}{Val}}(loc));}
\DoxyCodeLine{86 \}}
\DoxyCodeLine{87 }
\DoxyCodeLine{88 \textcolor{keyword}{template}<\textcolor{keyword}{typename} T>}
\DoxyCodeLine{89 \textcolor{keywordtype}{bool} \mbox{\hyperlink{classglwpp_1_1_array_aab99b0d3e3ecb78cb313fdb5f134f92a}{Array<T>::get}}(\mbox{\hyperlink{classglwpp_1_1_ptr}{Ptr<T>}}\& dst, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_val}{Val<size\_t>}}\& i, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}\& loc)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{90     \textcolor{keyword}{static} \textcolor{keyword}{constexpr} \textcolor{keyword}{auto} \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170a800618943025315f869e4e1f09471012}{F}} = [](\mbox{\hyperlink{classglwpp_1_1gl_1_1_ctx_buffer}{gl::CtxBuffer}}* buffer, \textcolor{keywordtype}{size\_t}* \_size,}
\DoxyCodeLine{91                                  \mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}* dst, \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t}\& i, \textcolor{keyword}{const} \mbox{\hyperlink{classglwpp_1_1_src_loc}{SrcLoc}}\& loc)\{}
\DoxyCodeLine{92         \textcolor{keywordflow}{if} (i >= *\_size)\{}
\DoxyCodeLine{93             \textcolor{keywordflow}{throw} std::runtime\_error(\textcolor{stringliteral}{"{}Out of bounds: "{}} + std::string(loc.file\_name()) + \textcolor{stringliteral}{"{}:"{}} + std::to\_string(loc.line()));}
\DoxyCodeLine{94         \}}
\DoxyCodeLine{95         \textcolor{keyword}{auto} p = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}*\textcolor{keyword}{>}(buffer-\/>\mbox{\hyperlink{classglwpp_1_1gl_1_1_ctx_buffer_a5926660c94dbce81388c8a52829a04b3}{mapRange}}(i * \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}), \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespaceglwpp_a4c13abc6dd05c306b840819ed4191170ab9ece18c950afbfa6b0fdbfa4ff731d3}{T}}), \_access, loc));}
\DoxyCodeLine{96         *dst = *p;}
\DoxyCodeLine{97         buffer-\/>\mbox{\hyperlink{classglwpp_1_1gl_1_1_ctx_buffer_a9724bf4b302b8e224e7e5db1b0268e72}{unmap}}(loc);}
\DoxyCodeLine{98     \};}
\DoxyCodeLine{99     \textcolor{keywordflow}{return} \_execute<F>(getWCtx(), \_getPtr(), \mbox{\hyperlink{classglwpp_1_1_ptr}{Ptr}}(\_size), dst, i, \mbox{\hyperlink{classglwpp_1_1_val}{Val}}(loc));}
\DoxyCodeLine{100 \}}
\DoxyCodeLine{101 }
\DoxyCodeLine{102 \}}

\end{DoxyCode}
